<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VisionCpp: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VisionCpp
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">VisionCpp Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"> <br  />
<img src="https://developer.codeplay.com/assets/img/home/tools/visioncpp.png" alt="" class="inline"/><br  />
 </div><h1><a class="anchor" id="autotoc_md0"></a>
Overview</h1>
<p><b>VisionCpp</b> is a lightweight header-only library for computer vision and image processing. The aim of the library is to provide a toolbox that enables performance portability for heterogeneous platforms using modern C++.</p>
<p>Written using <a href="https://www.khronos.org/registry/SYCL/specs/sycl-1.2.1.pdf">SYCL 1.2.1</a> and compiled/tested with <a href="https://codeplay.com/products/computesuite/computecpp">ComputeCpp</a> to accelerate vision code using OpenCL devices.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Table of contents</h2>
<ul>
<li><a href="#integration">Integration</a></li>
<li><a href="#visioncpp-tutorials">Tutorials</a></li>
<li><a href="#sample-code">Sample Code</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#build">Build</a></li>
<li><a href="#examples">Examples</a></li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#license">License</a></li>
<li><a href="#known-issues">Known Issues</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Integration</h2>
<p>You will need to install ComputeCpp in order to use VisionCpp, you can follow the <a href="https://developer.codeplay.com/products/computecpp/ce/guides/getting-started">ComputeCpp Getting Started guide</a> that outlines the installation process. All you need to do is include the VisionCpp.hpp header in your project and you are good to go! ( assuming that OpenCL and ComputeCPP is installed correctly. )</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="visioncpp_8hpp.html">visioncpp.hpp</a>&gt;</span> <span class="comment">//all that is needed</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md3"></a>
VisionCpp Tutorials</h2>
<p>There are some tutorials explaining how to perform different operations using VisionCpp. These cover basic <a href="https://github.com/codeplaysoftware/visioncpp/wiki/Example:-Hello-World">Hello World</a>, <a href="https://github.com/codeplaysoftware/visioncpp/wiki/Example:-Anisotropic-Diffusion">Anisotropic Diffusion</a>, <a href="https://github.com/codeplaysoftware/visioncpp/wiki/Example:-Bayer-Filter-Demosaic">Bayer Filter Demosaic</a>, <a href="https://github.com/codeplaysoftware/visioncpp/wiki/Example:-Dense-Depth-Reconstruction-with-Block-Matching-Algorithm">Dense Depth Reconstruction with Block Matching Algorithm</a> and <a href="https://github.com/codeplaysoftware/visioncpp/wiki/Example:-Harris-Corner-Detection">Harris Corner Detection</a>.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Sample Code</h2>
<p>Below is a very simple application that will do the conversion RGB -&gt; HSV. Full source code can be found in the examples folder. RGB is assumed to be a three-channel unsigned char storage with a reasonable channel order.</p>
<div class="fragment"><div class="line"><span class="comment">// main, args, checks and all the boring stuff</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// where VisionCpp will run.</span></div>
<div class="line"><span class="keyword">auto</span> dev = <a class="code" href="namespacevisioncpp.html#ac71d7d7da8acfbf97499256c6ac9cf92">visioncpp::make_device</a>&lt;<a class="code" href="namespacevisioncpp.html#a8fa45f6da73ee81cf6b757ab0b96cc7faf12ff9623f29ed44f5ff085b556f74f6">visioncpp::backend::sycl</a>,</div>
<div class="line">                                  <a class="code" href="namespacevisioncpp.html#aed89f64e5a180124dc8be133ac73344bad9747e2da342bdb995f6389533ad1a3d">visioncpp::device::cpu</a>&gt;();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a host container for input data</span></div>
<div class="line">std::shared_ptr&lt;unsigned char&gt; in_rgb(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[3],</div>
<div class="line">[](<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *dataMem) { <span class="keyword">delete</span>[] dataMem;});</div>
<div class="line"> </div>
<div class="line">in_rgb.get()[0] = atoi(argv[1]);</div>
<div class="line">in_rgb.get()[1] = atoi(argv[2]);</div>
<div class="line">in_rgb.get()[2] = atoi(argv[3]);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// create a host container for output data</span></div>
<div class="line">std::shared_ptr&lt;unsigned char&gt; out_hsv(<span class="keyword">new</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>[3],</div>
<div class="line">[](<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *dataMem) { <span class="keyword">delete</span>[] dataMem;});</div>
<div class="line"> </div>
<div class="line"><span class="comment">// exiting this scope will sync data</span></div>
<div class="line">{</div>
<div class="line">  <span class="comment">// definition of the VisionCpp pipeline:</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// create terminal nodes - a leaf node ( data node ) of the expression tree.</span></div>
<div class="line">  <span class="comment">// terminal struct takes 4 arguments</span></div>
<div class="line">  <span class="comment">// 1st template parameter specifies the data U8 (unsigned char) C3 (three</span></div>
<div class="line">  <span class="comment">// channels)</span></div>
<div class="line">  <span class="comment">// 2nd number of columns in the storage</span></div>
<div class="line">  <span class="comment">// 3rd number of rows in the storage</span></div>
<div class="line">  <span class="comment">// 4th underlying storage type - currently only Buffer2D supported</span></div>
<div class="line">  <span class="keyword">auto</span> data =</div>
<div class="line">      <a class="code" href="namespacevisioncpp.html#af0f61880162791323cbc04e02f29fe0a">visioncpp::terminal</a>&lt;<a class="code" href="namespacevisioncpp_1_1pixel.html#ac4539392ee140ab2ae6e9a5fb9fde208">visioncpp::pixel::U8C3</a>, 1, 1,</div>
<div class="line">                          <a class="code" href="namespacevisioncpp_1_1memory__type.html#a1464ec551d1cae67b570f348ffa757f2">visioncpp::memory_type::Buffer2D</a>&gt;(in_rgb.get());</div>
<div class="line">  <span class="keyword">auto</span> data_out =</div>
<div class="line">      <a class="code" href="namespacevisioncpp.html#af0f61880162791323cbc04e02f29fe0a">visioncpp::terminal</a>&lt;<a class="code" href="namespacevisioncpp_1_1pixel.html#ac4539392ee140ab2ae6e9a5fb9fde208">visioncpp::pixel::U8C3</a>, 1, 1,</div>
<div class="line">                          <a class="code" href="namespacevisioncpp_1_1memory__type.html#a1464ec551d1cae67b570f348ffa757f2">visioncpp::memory_type::Buffer2D</a>&gt;(out_hsv.get());</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// unsigned char -&gt; float RGB storage conversion</span></div>
<div class="line">  <span class="keyword">auto</span> node = visioncpp::point_operation&lt;visioncpp::OP_U8C3ToF32C3&gt;(data);</div>
<div class="line">  <span class="comment">// float RGB to float HSV conversion</span></div>
<div class="line">  <span class="keyword">auto</span> node2 = visioncpp::point_operation&lt;visioncpp::OP_RGBToHSV&gt;(node);</div>
<div class="line">  <span class="comment">// helper node that allows display of HSV</span></div>
<div class="line">  <span class="comment">// for unsigned char: V &lt;- 255*V, S &lt;- 255*S, H &lt;- H/2 ( to fit in range of 0..255 )</span></div>
<div class="line">  <span class="keyword">auto</span> node3 = visioncpp::point_operation&lt;visioncpp::OP_HSVToU8C3&gt;(node2);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// assign operation that writes output of the pipe to output terminal node</span></div>
<div class="line">  <span class="keyword">auto</span> pipe = <a class="code" href="namespacevisioncpp.html#ab7862a70f2c4034d79aeacc068052eff">visioncpp::assign</a>(data_out, node3);</div>
<div class="line">  <span class="comment">// execute the pipeline</span></div>
<div class="line">  <span class="comment">// 1st template parameter defines if VisionCpp back-end fuses the expression</span></div>
<div class="line">  <span class="comment">// 2nd &amp; 3rd shared memory sizes ( column, row )</span></div>
<div class="line">  <span class="comment">// 4th &amp; 5th local work group size ( column , row )</span></div>
<div class="line">  visioncpp::execute&lt;visioncpp::policy::Fuse, 1, 1, 1, 1&gt;(pipe, dev);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">printf(<span class="stringliteral">&quot;RGB: %u %u %u \nHSV: %u %u %u \n&quot;</span>, in_rgb.get()[0], in_rgb.get()[1],</div>
<div class="line">       in_rgb.get()[2], out_hsv.get()[0], out_hsv.get()[1], out_hsv.get()[2]);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5"></a>
Requirements</h2>
<p>To successfully compile VisionCpp tests, you will need:</p><ul>
<li>ComputeCpp (<a href="https://codeplay.com/products/computesuite/computecpp">https://codeplay.com/products/computesuite/computecpp</a>)</li>
<li>OpenCV 3.2 (<a href="https://github.com/opencv/opencv">https://github.com/opencv/opencv</a>) - used for camera access, window display and as a testing reference.</li>
<li>GTest (<a href="https://github.com/google/googletest">https://github.com/google/googletest</a>) - testing framework.</li>
<li>OpenCL 1.2</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Build</h2>
<p>Assuming you are in the root of a git repo: </p><div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd  build</div>
<div class="line">cmake .. -DComputeCpp_DIR={PATH_TO_COMPUTECPP_ROOT} -DCMAKE_CXX_COMPILER={FAVORITE_CXX_COMPILER}</div>
<div class="line">make -j8</div>
<div class="line">make test</div>
</div><!-- fragment --><p>The output binaries will be catalogued in bin folder. </p><div class="fragment"><div class="line">| - build</div>
<div class="line">  | - bin</div>
<div class="line">    | - example</div>
<div class="line">    | - test</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Examples</h2>
<p>There is a set of example code in the /example/ folder of the repository. Most of the examples are performing image operations from the camera input.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Documentation</h2>
<p>Online documentation can be found <a href="https://codeplaysoftware.github.io/visioncpp/">here</a>.</p>
<p>The documentation is created using <a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a>. </p><div class="fragment"><div class="line">make doc</div>
</div><!-- fragment --><p>The documentation will be created in html folder in build directory. </p><div class="fragment"><div class="line">| - build</div>
<div class="line">  | - doc</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Contributing</h2>
<p>Contributors always welcome! See <a href="https://github.com/codeplaysoftware/visioncpp/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a> for details.</p>
<p>The list of <a href="https://github.com/codeplaysoftware/visioncpp/blob/master/CONTRIBUTORS.md">contributors</a>.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Resources</h2>
<ul>
<li><a href="http://opus.bath.ac.uk/49695/">Kernel composition in SYCL</a></li>
<li><a href="http://dl.acm.org/citation.cfm?doid=2909437.2909444">VisionCPP: A SYCL-based Computer Vision Framework</a></li>
<li><a href="https://github.com/codeplaysoftware/visioncpp/wiki">Wiki</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
License</h2>
<p>The Apache License, Version 2.0 License. See <a href="https://github.com/codeplaysoftware/visioncpp/blob/master/LICENSE">LICENSE</a> for more.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Known Issues</h2>
<ul>
<li>The Tuple class works only with clang++. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<div class="ttc" id="avisioncpp_8hpp_html"><div class="ttname"><a href="visioncpp_8hpp.html">visioncpp.hpp</a></div><div class="ttdoc">This file is collection of headers that makes VisionCpp library.</div></div>
<div class="ttc" id="anamespacevisioncpp_html_ab7862a70f2c4034d79aeacc068052eff"><div class="ttname"><a href="namespacevisioncpp.html#ab7862a70f2c4034d79aeacc068052eff">visioncpp::assign</a></div><div class="ttdeci">auto assign(LHS lhs, RHS rhs) -&gt; internal::Assign&lt; LHS, RHS, LHS::Type::Cols, LHS::Type::Rows, LHS::Type::LeafType, 1+internal::tools::StaticIf&lt;(LHS::Level &gt; RHS::Level), LHS, RHS &gt;::Type::Level &gt;</div><div class="ttdoc">assign function</div><div class="ttdef"><b>Definition:</b> <a href="assign_8hpp_source.html#l00112">assign.hpp:112</a></div></div>
<div class="ttc" id="anamespacevisioncpp_html_af0f61880162791323cbc04e02f29fe0a"><div class="ttname"><a href="namespacevisioncpp.html#af0f61880162791323cbc04e02f29fe0a">visioncpp::terminal</a></div><div class="ttdeci">auto terminal(typename internal::MemoryProperties&lt; ElemTp &gt;::ChannelType *dt) -&gt; internal::LeafNode&lt; internal::VisionMemory&lt; true, internal::MemoryProperties&lt; ElemTp &gt;::ElementCategory, MemoryType, typename internal::MemoryProperties&lt; ElemTp &gt;::ChannelType, Cols, Rows, ElemTp, internal::MemoryProperties&lt; ElemTp &gt;::ChannelSize, Sc, 0 &gt;, 0 &gt;</div><div class="ttdoc">template deduction of LeafNode for buffer/image/host 2d where the element_category is Struct</div><div class="ttdef"><b>Definition:</b> <a href="leaf__node_8hpp_source.html#l00126">leaf_node.hpp:126</a></div></div>
<div class="ttc" id="anamespacevisioncpp_1_1memory__type_html_a1464ec551d1cae67b570f348ffa757f2"><div class="ttname"><a href="namespacevisioncpp_1_1memory__type.html#a1464ec551d1cae67b570f348ffa757f2">visioncpp::memory_type::Buffer2D</a></div><div class="ttdeci">static constexpr size_t Buffer2D</div><div class="ttdef"><b>Definition:</b> <a href="forward__declarations_8hpp_source.html#l00041">forward_declarations.hpp:41</a></div></div>
<div class="ttc" id="anamespacevisioncpp_html_aed89f64e5a180124dc8be133ac73344bad9747e2da342bdb995f6389533ad1a3d"><div class="ttname"><a href="namespacevisioncpp.html#aed89f64e5a180124dc8be133ac73344bad9747e2da342bdb995f6389533ad1a3d">visioncpp::device::cpu</a></div><div class="ttdeci">@ cpu</div><div class="ttdoc">represents the cpu device.</div></div>
<div class="ttc" id="anamespacevisioncpp_html_a8fa45f6da73ee81cf6b757ab0b96cc7faf12ff9623f29ed44f5ff085b556f74f6"><div class="ttname"><a href="namespacevisioncpp.html#a8fa45f6da73ee81cf6b757ab0b96cc7faf12ff9623f29ed44f5ff085b556f74f6">visioncpp::backend::sycl</a></div><div class="ttdeci">@ sycl</div><div class="ttdoc">represents sycl backend.</div></div>
<div class="ttc" id="anamespacevisioncpp_1_1pixel_html_ac4539392ee140ab2ae6e9a5fb9fde208"><div class="ttname"><a href="namespacevisioncpp_1_1pixel.html#ac4539392ee140ab2ae6e9a5fb9fde208">visioncpp::pixel::U8C3</a></div><div class="ttdeci">Storage&lt; unsigned char, 3 &gt; U8C3</div><div class="ttdef"><b>Definition:</b> <a href="pixel_8hpp_source.html#l00136">pixel.hpp:136</a></div></div>
<div class="ttc" id="anamespacevisioncpp_html_ac71d7d7da8acfbf97499256c6ac9cf92"><div class="ttname"><a href="namespacevisioncpp.html#ac71d7d7da8acfbf97499256c6ac9cf92">visioncpp::make_device</a></div><div class="ttdeci">internal::Device_&lt; BK, DV &gt; make_device()</div><div class="ttdoc">template deduction function for Device_ class</div><div class="ttdef"><b>Definition:</b> <a href="forward__declarations_8hpp_source.html#l00090">forward_declarations.hpp:90</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 5 2022 09:54:01 for VisionCpp by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
